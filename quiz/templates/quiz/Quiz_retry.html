{% extends "quiz/Page.html" %}
{% load otree i18n %}

{% block title %}
{% endblock %}

{% block content %}

    {% if form.errors %}
        <div class="alert alert-danger" role="alert">
            <h6 class="alert-heading">{{ form.non_field_errors }}</h6>
        </div>
    {% endif %}

    <h3><br>{% blocktrans %}Quiz: try again{% endblocktrans %}</h3>

    <p>{% blocktrans %}Please answer correctly the question(s) again, before advancing to the live round.
        There is a hint below.{% endblocktrans %}</p>

    {% formfields %}

    {% if show1 == 1 and treatment == 'summation' %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 1: <br>
        {% blocktrans %}At the beginning of each period, you will decide how many points to spend.
            Your <b>Spending</b> (in points) will be converted into <b>Euro Rewards</b> according to the graph below.{% endblocktrans %}
        <br>

        <img id="graph" width="450" height="auto"/>
        <br></br>

        {% blocktrans %}Your <b>Spending</b> in each period will be deducted from your <b>Account Balance</b>.
            At the end of a round, any points left in your <b>Account</b> will be lost.{% endblocktrans %}</p>
        <br>

        <script>
            lang_chosen = {{ lang|json }};
            if (lang_chosen === 'en') {
                document.getElementById('graph').src = "{% static 'reward.png' %}";
            }
            else if (lang_chosen === 'de') {
                document.getElementById('graph').src = "{% static 'reward_de.png' %}";
            }
        </script>
    {% endif %}

    {% if show1 == 1 and treatment == 'product' %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 1: <br>
        {% blocktrans %}You will start a round with 11.92 points in your <b>Account Balance</b>.
            You will <b>not</b> be given more points in the same round.{% endblocktrans %}
        <br>

        {% blocktrans %}At the beginning of each period, you will decide how many points to spend.{% endblocktrans %}
        <br>

        {% blocktrans %}Your <b>Spending</b> in each period will be deducted from your <b>Account Balance</b>.
            At the end of a round, any points left in your <b>Account</b> will be lost.{% endblocktrans %}
        <br>
    {% endif %}

    {% if show2 == 1 %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 2: <br>
        {% blocktrans %}In period 1, the computer will randomly choose and remove one deck of cards,
            and you will proceed to period 2.{% endblocktrans %}
        <br>

        {% blocktrans %}In period 2, the computer will randomly choose and remove a second deck of cards,
            and you will proceed to the period 3.{% endblocktrans %}
        <br>

        {% blocktrans %}In period 3, 4 and 5, you will draw a random card from the remaining deck.
            If you draw a <span style="color: green">green</span> card,
            you will proceed to the next period and the same deck (with same number of cards) will be used again.
            If you draw a <span style="color: red">red</span> card, the round will end.{% endblocktrans %}
        <br>
    {% endif %}

    {% if show3 == 1 %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 3: <br>
        {% blocktrans %}In period 1, the computer will randomly choose and remove one deck of cards,
            and you will proceed to period 2.{% endblocktrans %}
        <br>

        {% blocktrans %}In period 2, the computer will randomly choose and remove a second deck of cards,
            and you will proceed to the period 3.{% endblocktrans %}
        <br>

        {% blocktrans %}In period 3, 4 and 5, you will draw a random card from the remaining deck.
            If you draw a <span style="color: green">green</span> card,
            you will proceed to the next period and the same deck (with same number of cards) will be used again.
            If you draw a <span style="color: red">red</span> card, the round will end.{% endblocktrans %}
        <br>

        {% blocktrans %}In period 6 (if you reach it), the round will end automatically.{% endblocktrans %}</p>
        <br>
    {% endif %}

    {% if show4 == 1 %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 4: <br>
        {% blocktrans %}You will start a round with 11.92 points in your <b>Account Balance</b>.
            You will <b>not</b> be given more points in the same round.{% endblocktrans %}
        <br>

        {% blocktrans %}At the beginning of each period, you will decide how many points to spend.{% endblocktrans %}
        <br>

        {% blocktrans %}Your <b>Spending</b> in each period will be deducted from your <b>Account Balance</b>.
            At the end of a round, any points left in your <b>Account</b> will be lost.{% endblocktrans %}</p>
        <br>
    {% endif %}

    {% if show5 == 1 %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 5: <br>
        {% blocktrans %}Your <b>Spending</b> in each period will be deducted from your <b>Account Balance</b>.
            At the end of a round, any points left in your <b>Account</b> will be lost.{% endblocktrans %}
        </p>
        <br>
    {% endif %}

    {% if show6 == 1 %}
        <p style="border:3px; border-style:solid; border-color: black; padding: 0.2em; border-radius: 3px">
        {% blocktrans %}Hint of question{% endblocktrans %} 6: <br>
        {% blocktrans %}In period 3, 4 and 5, you will draw a random card from the remaining deck.
        If you draw a <span style="color: green">green</span> card,
        you will proceed to the next period and the same deck (with same number of cards) will be used again.
        If you draw a <span style="color: red">red</span> card, the round will end.{% endblocktrans %}
        </p>
        <br>
    {% endif %}

    {% next_button %}

    <br>
    <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="11"
            aria-valuemin="0" aria-valuemax="100" style="width:25%">
            <span class="sr-only">11% Complete</span>
        </div>
    </div>

    <style>
        .otree-title {
            display: none;
        }
        .otree-form-errors {
            visibility: hidden;
            display: none;
        }
    </style>

{% endblock %}
